{
    /// This devcontainer adds some ETAS-specific customizations to the S-CORE base devcontainer
    /// Such as:
    /// - CA Certificates

    "name": "eclipse-s-core-etas",
    // Use the same image as the project's devcontainer
    "image": "ghcr.io/eclipse-score/devcontainer:1.0.0",

    "features": {
        "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {}
    },

    // Initialize bazel cache on host
    "initializeCommand": "mkdir -p ${localEnv:HOME}/.cache/bazel",

    // Mount ca-certificates from host
    "mounts": [
        {
            "source": "/usr/local/share/ca-certificates/",
            "target": "/usr/local/share/ca-certificates/",
            "type": "bind"
        },
        {
            "source": "${localEnv:HOME}/.qnx/license",
            "target": "/opt/score_qnx/license",
            "type": "bind"
        }
    ],
    // Add your personal customizations
    "onCreateCommand": {
        "update certificates & install dependencies": "sudo apt update && sudo apt install -y --no-install-recommends ca-certificates-java openjdk-17-jre-headless libacl1-dev tmux && sudo update-ca-certificates",
        "bazel use system trust store": "echo 'startup --host_jvm_args=-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts --host_jvm_args=-Djavax.net.ssl.trustStorePassword=changeit' | sudo tee --append /etc/bazel.bazelrc"
    }
}
